# Pre-commit Hooks

This project uses [pre-commit](https://pre-commit.com/) to automatically check code quality before commits.

## Installation

```bash
# Install pre-commit
pip install pre-commit

# Install the git hooks
pre-commit install
```

## What Gets Checked

Every commit will automatically run:

### âœ¨ **Code Formatting**
- **black** - Automatic Python code formatting
- **isort** - Import statement sorting

### ðŸ” **Code Quality**
- **flake8** - Python linting (catches errors, style issues)
  - Max line length: 88 characters
  - Excludes: Archive/, venv/, build/, dist/

### âœ… **File Validation**
- YAML, JSON, TOML syntax validation
- End-of-file fixer
- Trailing whitespace removal
- Large file detection (>1MB)
- Merge conflict detection
- Private key detection

## Usage

### Automatic (Recommended)
Pre-commit hooks run automatically when you `git commit`. If any hook fails:
1. Files are auto-fixed (formatting)
2. Commit is blocked
3. Review changes, stage them, and commit again

### Manual
Run hooks on all files:
```bash
pre-commit run --all-files
```

Run on specific files:
```bash
pre-commit run --files path/to/file.py
```

Run a specific hook:
```bash
pre-commit run black --all-files
```

## Bypassing Hooks (Not Recommended)

Only in emergencies:
```bash
git commit --no-verify -m "emergency fix"
```

## Troubleshooting

### Hook Installation Failed
```bash
pre-commit uninstall
pre-commit install
```

### Hooks Won't Run
```bash
pre-commit clean
pre-commit install --install-hooks --overwrite
```

### Update Hook Versions
```bash
pre-commit autoupdate
```

## Configuration

Edit `.pre-commit-config.yaml` to:
- Add/remove hooks
- Change hook versions
- Modify arguments
- Exclude files/directories

## CI/CD Integration

Pre-commit checks also run in GitHub Actions (`.github/workflows/test.yml`) ensuring code quality on all pull requests.
